
$(document).ready(function(e){var path=$('#path').val();$('#listbarangterjual').removeClass('tab_button');$('#listbarangterjual').addClass('tab_select');$('table#panel tr td').click(function(){var id=$(this).attr('id');if(id!=''){$('#'+id).removeClass('tab_button');$('#'+id).addClass('tab_select');$('table#panel tr td:not(#'+id+',.flt)').removeClass('tab_select');$('table#panel tr td:not(#'+id+',#kosong,.flt)').addClass('tab_button');$('span#v_'+id).show();$('span:not(#v_'+id+')').hide();}});$('#frm1 #dari_tgl').dynDateTime();$('#frm1 #sampai_tgl').dynDateTime();tglNow('#dari_tgl');$('#frm1 #dari_tgl').click(function(){$(this).focus().select();}).keyup(function(){tanggal(this)}).keypress(function(e){if(e.keyCode==13){$('#frm1 #sampai_tgl').focus().select();}});$('#frm1 #sampai_tgl').click(function(){$(this).focus().select();tglNow('#frm1 #sampai_tgl');}).keyup(function(){tanggal(this)}).keypress(function(e){if(e.keyCode==13){$('#frm1 #nm_produsen').focus().select();}});$('#frm1 #nm_dokter').coolautosuggest({url:path+'member/get_anggota?limit=15&str=',width:350,showDescription:true,onSelected:function(result){$('#ID_Anggota').val(result.ID);}});$('#frm2 #jtran').val("GI' or jenis_transaksi='GIR'");$('#frm2 #optional').val(" and left(dt.faktur_transaksi,5)='RESEP' order by dt.tgl_transaksi");$('#frm2 #dari_tgl').click(function(){$(this).focus().select();}).keyup(function(){tanggal(this)}).keypress(function(e){if(e.keyCode==13){$('#frm2 #sampai_tgl').focus().select();};});$('#frm2 #sampai_tgl').click(function(){$(this).focus().select();tglNow('#frm2 #sampai_tgl');}).keyup(function(){tanggal(this)}).keypress(function(e){if(e.keyCode==13){$('#frm2 #nm_produsen').focus().select();};});$('#frm2 #nm_dokter').keyup(function(){var path=$('#path').val();pos_div('#frm2 input#nm_dokter');auto_suggest(path+'penjualan/get_dokter',$(this).val(),$(this).attr('id')+'-frm2');}).keypress(function(e){if(e.which==13){};});$('#frm3 #jtran').val("GI' or jenis_transaksi='GIR'");$('#frm3 #optional').val(" order by (abs(harga_beli)*jml_transaksi) desc limit 20");$('#frm3 #dari_tgl').click(function(){$(this).focus().select();}).keyup(function(){tanggal(this)}).keypress(function(e){if(e.keyCode==13){$('#frm3 #sampai_tgl').focus().select();};});$('#frm3 #sampai_tgl').click(function(){$(this).focus().select();tglNow('#frm3 #sampai_tgl');}).keyup(function(){tanggal(this)}).keypress(function(e){if(e.keyCode==13){$('#frm3 #nm_produsen').focus().select();};});$('#okelah').click(function(){show_indicator('xx',1);unlock('#id_lok');$('#frm1').attr('action','lap_penjualan');document.frm1.submit();});$("#okedech").click(function(){show_indicator('xx',1);unlock('#id_lok');$('#frm1').attr('action','lap_penjualan_detail');document.frm1.submit();});$("#okedechya").click(function(){show_indicator('xx',1);unlock('#id_lok');$('#frm1').attr('action','penjualan_per_konsumen');document.frm1.submit();});$('#nm_anggota').coolautosuggest({url:path+'member/get_anggota?limit=10&str=',width:350,showDescription:true,onSelected:function(result){$('#ID_Anggota').val(result.ID);}});});